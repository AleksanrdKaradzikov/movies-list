{"version":3,"sources":["components/MovieItem/MoviewItem.module.scss","components/Loader/Loader.module.scss","components/Pagination/Pagination.module.scss","components/MoviesView/MoviesView.module.scss","components/CommentModalView/CommentModalView.module.scss","components/App/App.module.scss","context/MoviesContext.js","service/apiService.js","hooks/useMoviesContext.js","components/MovieItem/MovieItem.js","components/Loader/Loader.js","components/Pagination/Pagination.js","components/MoviesView/MoviesView.js","components/CommentModalView/CommentModalView.js","containers/Movies/Movies.js","components/App/App.js","index.js"],"names":["module","exports","MoviesContext","React","createContext","BASE_PATH","ApiService","a","apiName","params","method","body","headers","url","fetch","response","json","data","console","error","Object","keys","reduce","acc","key","index","total","length","page","limit","rest","this","fetchData","buildParams","Promise","reject","Api","useMoviesContext","useContext","cn","classNames","bind","styles","BLOCK_CLASS_NAME","MoviewItem","title","year","image","qualitys","isHide","id","commentsCount","handleToggleHideMoview","setModalData","className","onClick","src","alt","isShowModal","currentId","map","quality","Loader","viewBox","cx","cy","r","fill","strokeWidth","Pagination","isLoadingData","pagination","totalPages","setPage","handleChangePage","disableInitialCallback","forcePage","containerClassName","pageClassName","breakClassName","breakLinkClassName","pageLinkClassName","activeLinkClassName","previousLinkClassName","nextLinkClassName","disabledClassName","breakLabel","nextLabel","onPageChange","selected","window","scrollTo","pageRangeDisplayed","pageCount","previousLabel","renderOnZeroPageCount","MoviesView","movies","medium_cover_image","torrents","comments","CommentModalView","modalData","deleteComment","addComment","modalRef","useRef","findMovie","useMemo","find","handleClose","target","current","contains","classList","isEmpty","ref","type","dateCreated","text","onSubmit","event","preventDefault","comment","Date","now","elements","value","toLocaleDateString","reset","required","name","placeholder","minLength","HIDE_MOVIES_KEY","COMMENT_MOVIES_KEY","portalElement","document","getElementById","getDataStorage","JSON","parse","localStorage","getItem","setDataStorage","removeItem","setItem","stringify","Movies","useState","setLoadigData","totalItems","setPagination","moviesList","setMovies","useCallback","prev","movieId","movie","undefined","hideMoviesMap","commensMovieMap","commentId","filter","useEffect","getMovies","movie_count","Math","ceil","log","contextValue","Provider","createPortal","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.5bf27ea9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviewItem\":\"MoviewItem_MoviewItem__a6RQZ\",\"MoviewItem__hide-block\":\"MoviewItem_MoviewItem__hide-block__BiNuD\",\"MoviewItem__image-wrap\":\"MoviewItem_MoviewItem__image-wrap__2pMf4\",\"MoviewItem__info\":\"MoviewItem_MoviewItem__info__2XHCX\",\"MoviewItem__hide-button\":\"MoviewItem_MoviewItem__hide-button__1287Y\",\"MoviewItem__comment-button\":\"MoviewItem_MoviewItem__comment-button__2Eulc\",\"MoviewItem__image\":\"MoviewItem_MoviewItem__image__23F9y\",\"MoviewItem__info-wrap\":\"MoviewItem_MoviewItem__info-wrap__2yquA\",\"MoviewItem__title\":\"MoviewItem_MoviewItem__title__3nwkE\",\"MoviewItem__year\":\"MoviewItem_MoviewItem__year__G9uhC\",\"MoviewItem__qualitys\":\"MoviewItem_MoviewItem__qualitys__3uS3_\",\"MoviewItem__quality\":\"MoviewItem_MoviewItem__quality__GtySu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3w7V8\",\"rotate\":\"Loader_rotate__3QseU\",\"Loader__path\":\"Loader_Loader__path__18BnQ\",\"dash\":\"Loader_dash__1ztii\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"Pagination_Pagination__1NGIo\",\"Pagination--hide\":\"Pagination_Pagination--hide__1ypMe\",\"Pagination__disabled-block\":\"Pagination_Pagination__disabled-block__11Y3S\",\"Pagination__paginate\":\"Pagination_Pagination__paginate__L0CLr\",\"Pagination__paginate-item\":\"Pagination_Pagination__paginate-item__25Ygj\",\"Pagination__paginate-item-tab\":\"Pagination_Pagination__paginate-item-tab__3xZ-8\",\"Pagination__paginate-item-tab--disable\":\"Pagination_Pagination__paginate-item-tab--disable__1x_JF\",\"Pagination__paginate-link\":\"Pagination_Pagination__paginate-link__frw4Z\",\"Pagination__paginate-link--active\":\"Pagination_Pagination__paginate-link--active__2fixK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesView\":\"MoviesView_MoviesView__1X9VA\",\"MoviesView__heading\":\"MoviesView_MoviesView__heading__2WLWy\",\"MoviesView__loader\":\"MoviesView_MoviesView__loader__3Ipd2\",\"MoviesView__loader--hide\":\"MoviesView_MoviesView__loader--hide__3eeBi\",\"MoviesView__data\":\"MoviesView_MoviesView__data__3u1gC\",\"MoviesView__data--hide\":\"MoviesView_MoviesView__data--hide__2qdxe\",\"MoviesView__pagination\":\"MoviesView_MoviesView__pagination__3a5ej\",\"MoviesView__pagination--bottom\":\"MoviesView_MoviesView__pagination--bottom__3BqX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentModalView\":\"CommentModalView_CommentModalView__3GADv\",\"CommentModalView--show\":\"CommentModalView_CommentModalView--show__1VIGT\",\"CommentModalView__window\":\"CommentModalView_CommentModalView__window__3iiMJ\",\"CommentModalView__heading\":\"CommentModalView_CommentModalView__heading__1NG1Q\",\"CommentModalView__empty-block\":\"CommentModalView_CommentModalView__empty-block__oVrhh\",\"CommentModalView__close-btn\":\"CommentModalView_CommentModalView__close-btn__q6b3b\",\"CommentModalView__form\":\"CommentModalView_CommentModalView__form__1rDdR\",\"CommentModalView__textarea\":\"CommentModalView_CommentModalView__textarea__Kpj7S\",\"CommentModalView__button-wrap\":\"CommentModalView_CommentModalView__button-wrap__3Hqaf\",\"CommentModalView__button-send\":\"CommentModalView_CommentModalView__button-send__Qf-CD\",\"CommentModalView__comments-list\":\"CommentModalView_CommentModalView__comments-list__dmkSB\",\"CommentModalView__list-item\":\"CommentModalView_CommentModalView__list-item__2ziBq\",\"CommentModalView__info\":\"CommentModalView_CommentModalView__info___8GRq\",\"CommentModalView__delete-btn\":\"CommentModalView_CommentModalView__delete-btn__ZZII_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2mBMi\"};","import React from 'react';\n\nexport const MoviesContext = React.createContext();","const BASE_URL = 'https://yts.mx/';\nconst API_PREFIX = '/api/v2';\nconst API_NANE = '/list_movies.json';\nconst BASE_PATH = `${BASE_URL}${API_PREFIX}`\n\nclass ApiService {\n    async fetchData({\n        apiName = API_NANE,\n        params = '',\n        method = 'GET',\n        body,\n        headers = {},\n    }) {\n        const url = `${BASE_PATH}${apiName}${params}`;\n\n        try {\n            const response = await fetch(url, {\n                method,\n                headers,\n                body,\n            });\n            const data = await response.json();\n\n            return data;\n        } catch (err) {\n            console.error(`Ошибка запроса по адресу ${url}`)\n            throw err;\n        }\n    }\n\n    buildParams(params) {\n        return Object.keys(params).reduce((acc, key, index, total) => {\n            return `${acc}${key}=${params[key]}${index === total.length - 1 ? '' : '&'}`;\n        }, '?');\n    }\n\n    async getMovies({\n        page = 1,\n        limit = 20,\n        ...rest\n    } = {}) {\n        try {\n            const data = await this.fetchData({ params: this.buildParams({ page, limit, ...rest })});\n            return data;\n        } catch (err) {\n            return Promise.reject(err);\n        }\n    }\n}\n\nexport const Api = new ApiService();","import { useContext } from \"react\";\n\nimport { MoviesContext } from '../context/MoviesContext';\n\nexport function useMoviesContext() {\n    return useContext(MoviesContext);\n}","import React from 'react';\nimport classNames from 'classnames/bind';\n\nimport { useMoviesContext } from '../../hooks/useMoviesContext';\nimport styles from './MoviewItem.module.scss';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = 'MoviewItem';\n\nexport const MoviewItem = ({ title, year, image, qualitys, isHide, id, commentsCount }) => {\n    const { handleToggleHideMoview, setModalData } = useMoviesContext();\n\n    const handleHideClick = () => {\n        handleToggleHideMoview(id);\n    };\n\n    const handleShowClick = () => {\n        handleToggleHideMoview(id);\n    }\n\n    const handleCommentClick = () => {\n        setModalData({\n            isShowModal: true,\n            currentId: id,\n        })\n    };\n\n    return (\n        <div className={cn(BLOCK_CLASS_NAME)}>\n            { isHide ? (\n                <div className={cn(`${BLOCK_CLASS_NAME}__hide-block`)}>\n                    <button \n                        onClick={handleShowClick}\n                        className={cn(`${BLOCK_CLASS_NAME}__hide-button`)}    \n                    >\n                        Показать фильм\n                    </button>\n                    <h4>\n                        Фильм скрыт от показа\n                    </h4>\n                </div>\n            ): (\n                <>\n                    <div className={cn(`${BLOCK_CLASS_NAME}__image-wrap`)}>\n                        <img\n                            className={cn(`${BLOCK_CLASS_NAME}__image`)}\n                            src={image} \n                            alt={title} \n                        />\n                        <div className={cn(`${BLOCK_CLASS_NAME}__info`)}>\n                            <button \n                                onClick={handleHideClick}\n                                className={cn(`${BLOCK_CLASS_NAME}__hide-button`)}\n                            >\n                                Скрыть фильм\n                            </button>\n                            <button \n                                onClick={handleCommentClick}\n                                className={cn(`${BLOCK_CLASS_NAME}__comment-button`)}\n                            >\n                                Комментировать {commentsCount || ''}\n                            </button>\n                        </div>\n                    </div>\n                    <div className={cn(`${BLOCK_CLASS_NAME}__info-wrap`)}>\n                        <p className={cn(`${BLOCK_CLASS_NAME}__title`)}>\n                            {title}\n                        </p>\n                        <span className={cn(`${BLOCK_CLASS_NAME}__year`)}>Год выхода: {year}</span>\n                        <div className={cn(`${BLOCK_CLASS_NAME}__qualitys`)}>\n                            {qualitys.map((quality) => (\n                                <span className={cn(`${BLOCK_CLASS_NAME}__quality`)} key={quality}>\n                                    {quality}\n                                </span>\n                            ))}\n                        </div>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n}","import React from 'react';\nimport classNames from 'classnames/bind';\n\nimport styles from './Loader.module.scss';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = 'Loader';\n\nexport const Loader = () => {\n    return (\n        <svg className={cn(BLOCK_CLASS_NAME)} viewBox=\"0 0 50 50\">\n            <circle className={cn(`${BLOCK_CLASS_NAME}__path`)} cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" strokeWidth=\"5\"></circle>\n        </svg>\n    );\n}","import React from 'react';\nimport classNames from 'classnames/bind';\nimport ReactPaginate from 'react-paginate';\n\nimport styles from './Pagination.module.scss';\nimport { useMoviesContext } from '../../hooks/useMoviesContext';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = 'Pagination';\n\nexport const Pagination = () => {\n    const { \n        isLoadingData,\n        pagination: {\n            totalPages,\n            page,\n        },\n        handleChangePage: setPage,\n    } = useMoviesContext();\n\n    const handleChangePage = ({ selected }) => {\n        if (isLoadingData) {\n            return;\n        }\n\n        setPage(selected + 1);\n        window.scrollTo(0, 0);\n    }\n\n    if (totalPages === null) {\n        return null;\n    }\n\n    return (\n        <div className={cn(BLOCK_CLASS_NAME, {\n            [`${BLOCK_CLASS_NAME}--hide`]: isLoadingData,\n        })}>\n            {isLoadingData && <div className={cn(`${BLOCK_CLASS_NAME}__disabled-block`)}/>}\n            <ReactPaginate\n                disableInitialCallback\n                forcePage={page - 1}\n                containerClassName={cn(`${BLOCK_CLASS_NAME}__paginate`)}\n                pageClassName={cn(`${BLOCK_CLASS_NAME}__paginate-item`)}\n                breakClassName={cn(`${BLOCK_CLASS_NAME}__paginate-item`)}\n                breakLinkClassName={cn(`${BLOCK_CLASS_NAME}__paginate-link`)}\n                pageLinkClassName={cn(`${BLOCK_CLASS_NAME}__paginate-link`)}\n                activeLinkClassName={cn(`${BLOCK_CLASS_NAME}__paginate-link--active`)}\n                previousLinkClassName={cn(`${BLOCK_CLASS_NAME}__paginate-item-tab`)}\n                nextLinkClassName={cn(`${BLOCK_CLASS_NAME}__paginate-item-tab`)}\n                disabledClassName={cn(`${BLOCK_CLASS_NAME}__paginate-item-tab--disable`)}\n                breakLabel=\"...\"\n                nextLabel=\"Следущая >\"\n                onPageChange={handleChangePage}\n                pageRangeDisplayed={5}\n                pageCount={totalPages}\n                previousLabel=\"< Предыдущая\"\n                renderOnZeroPageCount={null}\n            />\n        </div>\n    )\n};","import React from 'react'; \nimport classNames from 'classnames/bind';\n\nimport { useMoviesContext } from '../../hooks/useMoviesContext';\nimport { MoviewItem } from '../MovieItem/MovieItem';\nimport { Loader } from '../Loader/Loader';\nimport { Pagination } from '../Pagination/Pagination';\nimport styles from './MoviesView.module.scss';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = 'MoviesView';\n\nexport const MoviesView = () => {\n    const { movies, isLoadingData } = useMoviesContext();\n\n    return (\n        <section className={cn(BLOCK_CLASS_NAME)}>\n            <h2 className={cn(`${BLOCK_CLASS_NAME}__heading`)}>\n                Список фильмов\n            </h2>\n            <div className={cn(`${BLOCK_CLASS_NAME}__pagination`)}>\n                <Pagination />\n            </div>\n            <div className={cn(`${BLOCK_CLASS_NAME}__data`, 'row', {\n                [`${BLOCK_CLASS_NAME}__data--hide`]: isLoadingData,\n            })}>\n                {movies.map(({ id, title, medium_cover_image, year, torrents, isHide = false, comments }) => {\n                    return (\n                        <div key={id} className=\"col\">\n                            <MoviewItem \n                                id={id}\n                                commentsCount={comments.length}\n                                isHide={isHide}\n                                image={medium_cover_image}\n                                title={title}\n                                year={year}\n                                qualitys={torrents.map(({ quality }) =>  quality)}\n                            />\n                        </div>\n                    )\n                })}\n            </div>\n            <div className={cn(`${BLOCK_CLASS_NAME}__pagination`, {\n                [`${BLOCK_CLASS_NAME}__pagination--top`]: true,\n            })}>\n                <Pagination />\n            </div>\n            <div className={cn(`${BLOCK_CLASS_NAME}__loader`, {\n                [`${BLOCK_CLASS_NAME}__loader--hide`]: !isLoadingData,\n            })}>\n                <Loader />\n            </div>\n        </section>\n    );\n}","import React, { useMemo, useRef } from 'react';\nimport classNames from 'classnames/bind';\n\nimport { useMoviesContext } from '../../hooks/useMoviesContext';\nimport styles from './CommentModalView.module.scss';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = 'CommentModalView';\n\nexport const CommentModalView = () => {\n    const {\n        modalData: {\n            isShowModal,\n            currentId,\n        },\n        movies,\n        deleteComment,\n        setModalData,\n        addComment,\n    } = useMoviesContext();\n\n    const modalRef = useRef(null);\n\n    const findMovie = useMemo(() => {\n        return movies.find(({ id }) => id === currentId);\n    }, [currentId, movies]);\n\n    const handleClose = ({ target }) => {\n        if (\n            modalRef.current.contains(target) && \n            modalRef.current !== target && \n            !target.classList.contains(cn(`${BLOCK_CLASS_NAME}__close-btn`))\n        ) {\n            return;\n        }\n\n        setModalData({ currentId: null, isShowModal: false });\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        const comment = {\n            id: `${currentId}-${Date.now()}`,\n            text: event.target.elements[0].value,\n            dateCreated: new Date().toLocaleDateString(),\n        };\n\n        addComment(currentId, comment);\n        event.target.reset();\n    }\n\n    const isEmpty = findMovie && findMovie.comments.length === 0;\n\n    return (\n        <div \n            ref={modalRef}\n            className={cn(BLOCK_CLASS_NAME, {\n                [`${BLOCK_CLASS_NAME}--show`]: isShowModal,\n            })}\n            onClick={handleClose}\n        >   \n            <div className={cn(`${BLOCK_CLASS_NAME}__window`)}>\n                <button \n                    type=\"button\"\n                    className={cn(`${BLOCK_CLASS_NAME}__close-btn`)}\n                    onClick={handleClose}\n                >\n                    &times;\n                </button>\n                <h2 className={cn(`${BLOCK_CLASS_NAME}__heading`)}>\n                    Комментариев: {findMovie?.comments.length || 0 }\n                </h2>\n                <div className={cn(`${BLOCK_CLASS_NAME}__comments`)}>\n                    {isEmpty ? (\n                        <div className={cn(`${BLOCK_CLASS_NAME}__empty-block`)}>\n                            Комментариев пока нет, будте первым \n                        </div>\n                    ) : (\n                        <ul className={cn(`${BLOCK_CLASS_NAME}__comments-list`)}>\n                            {findMovie?.comments.map(({ id, dateCreated, text }) => {\n                                return (\n                                    <li key={id} className={cn(`${BLOCK_CLASS_NAME}__list-item`)}>\n                                        <p className={cn(`${BLOCK_CLASS_NAME}__info`)}>Дата комментария: {dateCreated}</p>\n                                        <p className={cn(`${BLOCK_CLASS_NAME}__info`)}>Комментарий: {text}</p>\n                                        <button\n                                            className={cn(`${BLOCK_CLASS_NAME}__delete-btn`)}\n                                            onClick={() => deleteComment(currentId, id)}\n                                        >\n                                            &times;\n                                        </button>\n                                    </li>\n                                )\n                            })}\n                        </ul>\n                    )}\n                    <form className={cn(`${BLOCK_CLASS_NAME}__form`)} onSubmit={handleSubmit}>\n                            <textarea \n                                className={cn(`${BLOCK_CLASS_NAME}__textarea`)} \n                                required \n                                name=\"comment\" \n                                placeholder=\"Текст комментария...\"\n                                minLength={5} \n                            />\n                            <div className={cn(`${BLOCK_CLASS_NAME}__button-wrap`)}>\n                                <button\n                                    className={cn(`${BLOCK_CLASS_NAME}__button-send`)}\n                                    type=\"submit\"\n                                >\n                                    Комментировать\n                                </button>\n                            </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { MoviesContext } from '../../context/MoviesContext';\nimport { Api } from '../../service/apiService';\nimport { MoviesView } from '../../components/MoviesView/MoviesView';\nimport { CommentModalView } from '../../components/CommentModalView/CommentModalView';\n\nconst HIDE_MOVIES_KEY = 'hideMovies';\nconst COMMENT_MOVIES_KEY = 'commentsMoview';\nconst portalElement = document.getElementById('portal');\n\nconst getDataStorage = (key) => {\n    return JSON.parse(localStorage.getItem(key) || '{}');\n};\n\nconst setDataStorage = (key, data) => {\n    if (Object.keys(data).length === 0) {\n        localStorage.removeItem(key);\n    } else {\n        localStorage.setItem(key, JSON.stringify(data));\n    }\n}\n\nexport const Movies = () => {\n    const [isLoadingData, setLoadigData] = useState(false);\n\n    const [modalData, setModalData] = useState({\n        currentId: null,\n        isShowModal: false,\n    });\n\n    const [pagination, setPagination] = useState({\n        page: 1,\n        limit: 20,\n        totalPages: null,\n        totalItems: null,\n    });\n\n    const [moviesList, setMovies] = useState([]);\n\n    const handleChangePage = useCallback((page) => {\n        setPagination((prev) => ({...prev, page }));\n    }, []);\n\n    const handleToggleHideMoview = useCallback((movieId) => {\n        setMovies((prev) => {\n            return prev.map((movie) => {\n                if (movie.id === movieId) {\n                    return {\n                        ...movie,\n                        isHide: movie.isHide === undefined ? true : ! movie.isHide,\n                    }\n                }\n\n                return movie;\n            })\n        })\n\n        const hideMoviesMap = getDataStorage(HIDE_MOVIES_KEY);\n\n        if (hideMoviesMap[movieId] === undefined) {\n            hideMoviesMap[movieId] = true;\n        } else {\n            delete hideMoviesMap[movieId];\n        }\n        \n        setDataStorage(HIDE_MOVIES_KEY, hideMoviesMap);\n        \n    }, []);\n\n    const addComment = useCallback((currentId, comment) => {\n        setMovies((prev) => {\n            return prev.map((movie) => {\n                if (movie.id === currentId) {\n                    return {\n                        ...movie,\n                        comments: [...movie.comments, comment],\n                    }\n                }\n\n                return movie;\n            });\n        });\n\n        const commensMovieMap = getDataStorage(COMMENT_MOVIES_KEY);\n\n        if (commensMovieMap[currentId]) {\n            commensMovieMap[currentId] = [\n                ...commensMovieMap[currentId],\n                comment,\n            ]\n        } else {\n            commensMovieMap[currentId] = [comment];\n        }\n\n        setDataStorage(COMMENT_MOVIES_KEY, commensMovieMap);\n    }, []);\n\n    const deleteComment = useCallback((movieId, commentId) => {\n        setMovies((prev) => {\n            return prev.map((movie) => {\n                if (movie.id === movieId) {\n                    return {\n                        ...movie,\n                        comments: movie.comments.filter(({ id }) => id !== commentId),\n                    }\n                }\n\n                return movie;\n            });\n        });\n\n        const commensMovieMap = getDataStorage(COMMENT_MOVIES_KEY);\n\n        commensMovieMap[movieId] =  commensMovieMap[movieId].filter(({ id }) => id !== commentId);\n\n        if (commensMovieMap[movieId].length === 0) {\n            delete commensMovieMap[movieId];\n        }\n\n        setDataStorage(COMMENT_MOVIES_KEY, commensMovieMap);\n\n    }, []);\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoadigData(true);\n\n            const hideMoviesMap = getDataStorage(HIDE_MOVIES_KEY);\n            const commensMovieMap = getDataStorage(COMMENT_MOVIES_KEY);\n\n            try {\n                const { data } = await Api.getMovies({ page: pagination.page });\n\n                const {\n                    movie_count,\n                    movies,\n                } = data;\n\n                setPagination((prev) => ({\n                    ...prev,\n                    totalItems:  movie_count,\n                    totalPages: Math.ceil(movie_count / prev.limit),\n                }));\n\n                setMovies(movies.map((movie) => {\n                    const comments = commensMovieMap[movie.id] || [];\n\n                    if (hideMoviesMap[movie.id]) {\n                        return {\n                            ...movie,\n                            isHide: true,\n                            comments,\n                        }\n                    } \n\n                    return {\n                        ...movie,\n                        comments,\n                    };\n                }\n                ));\n\n                setLoadigData(false);\n\n            } catch (err) {\n                console.log('err: ', err);\n                setLoadigData(false);\n            }\n        }\n\n        fetchData();\n    }, [pagination.page]);\n\n\n    const contextValue = useMemo(() => {\n        return {\n            pagination,\n            isLoadingData,\n            movies: moviesList,\n            handleChangePage,\n            handleToggleHideMoview,\n            setModalData,\n            modalData,\n            addComment,\n            deleteComment,\n        }\n    }, [\n        isLoadingData, \n        pagination, \n        moviesList, \n        handleChangePage, \n        modalData,\n        handleToggleHideMoview,\n        addComment,\n        deleteComment,\n    ]);\n\n    return (\n        <MoviesContext.Provider value={contextValue}>\n            <MoviesView />\n            {portalElement && createPortal(\n                <CommentModalView />,\n                portalElement\n            )}\n        </MoviesContext.Provider>\n    )\n};","import React from 'react';\nimport classNames from 'classnames/bind';\n\nimport { Movies } from '../../containers/Movies/Movies';\nimport styles from './App.module.scss';\n\nconst cn = classNames.bind(styles);\nconst BLOCK_CLASS_NAME = \"App\";\n\nexport const App = () => {\n    return (\n        <div className={cn(BLOCK_CLASS_NAME)}>\n            <div className={cn('container')}>\n                <Movies />\n            </div>\n        </div>  \n    );    \n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './components/App/App';\nimport 'normalize.css';\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}